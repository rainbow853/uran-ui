import{d as N,q,r as _,h as y,o as v,c as z,G as D,w as $,an as Q,j as L,n as b,k as o,N as X,t as Y,ao as J,T as K,aX as ie,p as S,v as ue,b as T,e as M,H as ce,F as de,Z as pe,ah as R,am as W,ai as I,aT as V}from"./framework.DHV_nLJe.js";import{C as F,x as h,a9 as fe,aa as me,H as ge,I as ye,D as x,N as A,_ as ee,G as ve,a3 as be,ao as he,i as se,b9 as Ce,T as U,O as we,U as Te,P as Z,Q as Se,av as xe,a0 as Ne,y as G,Y as Ee,ba as Be}from"./index.RaaP_Q0y.js";const Me=F({a11y:{type:Boolean,default:!0},locale:{type:h(Object)},size:fe,button:{type:h(Object)},experimentalFeatures:{type:h(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:h(Object)},zIndex:Number,namespace:{type:String,default:"el"},...me}),m={},Ye=N({name:"ElConfigProvider",props:Me,setup(s,{slots:t}){q(()=>s.message,n=>{Object.assign(m,n??{})},{immediate:!0,deep:!0});const e=ge(s);return()=>_(t,"default",{config:e==null?void 0:e.value})}}),$e=F({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:h([String,Object,Array])},offset:{type:h(Array),default:[0,0]},badgeClass:{type:String}}),ke=N({name:"ElBadge"}),Oe=N({...ke,props:$e,setup(s,{expose:t}){const e=s,n=ye("badge"),a=y(()=>e.isDot?"":x(e.value)&&x(e.max)?e.max<e.value?`${e.max}+`:e.value===0&&!e.showZero?"":`${e.value}`:`${e.value}`),d=y(()=>{var r,l,u,p,f;return[{backgroundColor:e.color,marginRight:A(-((l=(r=e.offset)==null?void 0:r[0])!=null?l:0)),marginTop:A((p=(u=e.offset)==null?void 0:u[1])!=null?p:0)},(f=e.badgeStyle)!=null?f:{}]});return t({content:a}),(r,l)=>(v(),z("div",{class:b(o(n).b())},[_(r.$slots,"default"),D(K,{name:`${o(n).namespace.value}-zoom-in-center`,persisted:""},{default:$(()=>[Q(L("sup",{class:b([o(n).e("content"),o(n).em("content",r.type),o(n).is("fixed",!!r.$slots.default),o(n).is("dot",r.isDot),r.badgeClass]),style:X(o(d)),textContent:Y(o(a))},null,14,["textContent"]),[[J,!r.hidden&&(o(a)||r.isDot)]])]),_:1},8,["name"])],2))}});var Pe=ee(Oe,[["__file","badge.vue"]]);const ze=ve(Pe),te=["success","info","warning","error"],c=he({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:se?document.body:void 0}),Le=F({customClass:{type:String,default:c.customClass},center:{type:Boolean,default:c.center},dangerouslyUseHTMLString:{type:Boolean,default:c.dangerouslyUseHTMLString},duration:{type:Number,default:c.duration},icon:{type:be,default:c.icon},id:{type:String,default:c.id},message:{type:h([String,Object,Function]),default:c.message},onClose:{type:h(Function),default:c.onClose},showClose:{type:Boolean,default:c.showClose},type:{type:String,values:te,default:c.type},plain:{type:Boolean,default:c.plain},offset:{type:Number,default:c.offset},zIndex:{type:Number,default:c.zIndex},grouping:{type:Boolean,default:c.grouping},repeatNum:{type:Number,default:c.repeatNum}}),Ie={destroy:()=>!0},g=ie([]),_e=s=>{const t=g.findIndex(a=>a.id===s),e=g[t];let n;return t>0&&(n=g[t-1]),{current:e,prev:n}},De=s=>{const{prev:t}=_e(s);return t?t.vm.exposed.bottom.value:0},Fe=(s,t)=>g.findIndex(n=>n.id===s)>0?16:t,He=N({name:"ElMessage"}),je=N({...He,props:Le,emits:Ie,setup(s,{expose:t}){const e=s,{Close:n}=Se,{ns:a,zIndex:d}=Ce("message"),{currentZIndex:r,nextZIndex:l}=d,u=S(),p=S(!1),f=S(0);let C;const k=y(()=>e.type?e.type==="error"?"danger":e.type:"info"),O=y(()=>{const i=e.type;return{[a.bm("icon",i)]:i&&U[i]}}),E=y(()=>e.icon||U[e.type]||""),oe=y(()=>De(e.id)),H=y(()=>Fe(e.id,e.offset)+oe.value),ae=y(()=>f.value+H.value),re=y(()=>({top:`${H.value}px`,zIndex:r.value}));function P(){e.duration!==0&&({stop:C}=xe(()=>{B()},e.duration))}function j(){C==null||C()}function B(){p.value=!1}function le({code:i}){i===Ne.esc&&B()}return ue(()=>{P(),l(),p.value=!0}),q(()=>e.repeatNum,()=>{j(),P()}),we(document,"keydown",le),Te(u,()=>{f.value=u.value.getBoundingClientRect().height}),t({visible:p,bottom:ae,close:B}),(i,Ge)=>(v(),T(K,{name:o(a).b("fade"),onBeforeLeave:i.onClose,onAfterLeave:qe=>i.$emit("destroy"),persisted:""},{default:$(()=>[Q(L("div",{id:i.id,ref_key:"messageRef",ref:u,class:b([o(a).b(),{[o(a).m(i.type)]:i.type},o(a).is("center",i.center),o(a).is("closable",i.showClose),o(a).is("plain",i.plain),i.customClass]),style:X(o(re)),role:"alert",onMouseenter:j,onMouseleave:P},[i.repeatNum>1?(v(),T(o(ze),{key:0,value:i.repeatNum,type:o(k),class:b(o(a).e("badge"))},null,8,["value","type","class"])):M("v-if",!0),o(E)?(v(),T(o(Z),{key:1,class:b([o(a).e("icon"),o(O)])},{default:$(()=>[(v(),T(ce(o(E))))]),_:1},8,["class"])):M("v-if",!0),_(i.$slots,"default",{},()=>[i.dangerouslyUseHTMLString?(v(),z(de,{key:1},[M(" Caution here, message could've been compromised, never use user's input as message "),L("p",{class:b(o(a).e("content")),innerHTML:i.message},null,10,["innerHTML"])],2112)):(v(),z("p",{key:0,class:b(o(a).e("content"))},Y(i.message),3))]),i.showClose?(v(),T(o(Z),{key:2,class:b(o(a).e("closeBtn")),onClick:pe(B,["stop"])},{default:$(()=>[D(o(n))]),_:1},8,["class","onClick"])):M("v-if",!0)],46,["id"]),[[J,p.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Re=ee(je,[["__file","message.vue"]]);let Ve=1;const ne=s=>{const t=!s||R(s)||W(s)||I(s)?{message:s}:s,e={...c,...t};if(!e.appendTo)e.appendTo=document.body;else if(R(e.appendTo)){let n=document.querySelector(e.appendTo);Ee(n)||(n=document.body),e.appendTo=n}return G(m.grouping)&&!e.grouping&&(e.grouping=m.grouping),x(m.duration)&&e.duration===3e3&&(e.duration=m.duration),x(m.offset)&&e.offset===16&&(e.offset=m.offset),G(m.showClose)&&!e.showClose&&(e.showClose=m.showClose),e},Ae=s=>{const t=g.indexOf(s);if(t===-1)return;g.splice(t,1);const{handler:e}=s;e.close()},Ue=({appendTo:s,...t},e)=>{const n=`message_${Ve++}`,a=t.onClose,d=document.createElement("div"),r={...t,id:n,onClose:()=>{a==null||a(),Ae(f)},onDestroy:()=>{V(null,d)}},l=D(Re,r,I(r.message)||W(r.message)?{default:I(r.message)?r.message:()=>r.message}:null);l.appContext=e||w._context,V(l,d),s.appendChild(d.firstElementChild);const u=l.component,f={id:n,vnode:l,vm:u,handler:{close:()=>{u.exposed.visible.value=!1}},props:l.component.props};return f},w=(s={},t)=>{if(!se)return{close:()=>{}};const e=ne(s);if(e.grouping&&g.length){const a=g.find(({vnode:d})=>{var r;return((r=d.props)==null?void 0:r.message)===e.message});if(a)return a.props.repeatNum+=1,a.props.type=e.type,a.handler}if(x(m.max)&&g.length>=m.max)return{close:()=>{}};const n=Ue(e,t);return g.push(n),n.handler};te.forEach(s=>{w[s]=(t={},e)=>{const n=ne(t);return w({...n,type:s},e)}});function Ze(s){for(const t of g)(!s||s===t.props.type)&&t.handler.close()}w.closeAll=Ze;w._context=null;const Je=Be(w,"$message");function Ke(s){const t=S(!1),e=S([{x:0,y:0},{x:0,y:0}]),n=y(()=>{if(!t.value)return"";const[{x:l,y:u},{x:p,y:f}]=e.value;return`M ${l} ${u} H ${p} V ${f} H ${l} Z`});function a(l){if(!s.enable||s.button===void 0||l.button!==s.button)return;const u=s.getPositionFn(l);u&&(t.value=!0,l.stopPropagation(),l.preventDefault(),e.value=[u,u],document.addEventListener("mousemove",d),document.addEventListener("mouseup",r))}function d(l){const u=s.getPositionFn(l);u&&(e.value[1]=u)}function r(l){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",r),d(l);const[{x:u,y:p},{x:f,y:C}]=e.value,k=Math.abs(f-u)+1,O=Math.abs(C-p)+1,E=s.rectCallback&&s.rectCallback({x:Math.min(u,f),y:Math.min(p,C),width:k,height:O});t.value=!!E}return{mousedown:a,rectPath:n,showRectPath:t,rectSE:e}}export{Ye as C,Je as E,ze as a,te as m,Ke as u};
